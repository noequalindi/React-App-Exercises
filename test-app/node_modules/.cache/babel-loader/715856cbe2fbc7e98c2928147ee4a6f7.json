{"ast":null,"code":"var _jsxFileName = \"/home/nqualindi/Desktop/REACT/React-App-Exercises/test-app/src/components/ContactView.js\";\nimport React, { Component } from 'react';\nimport ContactServices from '../services/ContactServices';\nimport ContactList from '../components/ContactList';\nimport ContactDetails from '../components/ContactDetails';\nimport _ from 'lodash';\nexport default class ContactView extends Component {\n  constructor(props) {\n    super(props);\n\n    this._handleContactSelection = item => {\n      this.setState({\n        selectedContact: item\n      });\n    };\n\n    this._handleGoBack = () => {\n      this.setState({\n        selectedContact: null\n      });\n    };\n\n    this._handleFavoriteClick = (contact, type) => {\n      let fromList = _.cloneDeep(this.state[type]);\n\n      let toList = _.cloneDeep(this.state['favorite' === type ? 'noFavorite' : 'favorite']);\n\n      let idx = fromList.findIndex(item => item.id === contact.id);\n\n      if (idx > -1) {\n        let extracted = fromList.splice(idx, 1)[0];\n        extracted.isFavorite = !extracted.isFavorite;\n        toList = [...toList, extracted];\n      }\n\n      this.setState({\n        favorite: 'favorite' === type ? fromList : toList,\n        noFavorite: 'noFavorite' === type ? fromList : toList\n      });\n    };\n\n    this._handleContactSelection = this._handleContactSelection.bind(this);\n    this._handlegoBack = this._handleGoBack.bind(this);\n    this.state = {\n      favorite: [],\n      noFavorite: [],\n      selectedContact: false\n    };\n  }\n\n  componentDidMount() {\n    ContactServices.getContacts().then(res => {\n      let favoriteList = res.data.filter(contact => contact.isFavorite);\n      let noFavoriteList = res.data.filter(contact => !contact.isFavorite);\n      this.setState({\n        favorite: favoriteList,\n        noFavorite: noFavoriteList\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, !this.state.selectedContact && React.createElement(ContactList, {\n      onFavoriteClick: this._handleFavoriteClick,\n      onContactSelect: this._handleContactSelection,\n      favorites: this.state.favorite,\n      others: this.state.noFavorite,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), this.state.selectedContact && React.createElement(ContactDetails, {\n      goBack: this._handleGoBack,\n      selectedContact: this.state.selectedContact,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/nqualindi/Desktop/REACT/React-App-Exercises/test-app/src/components/ContactView.js"],"names":["React","Component","ContactServices","ContactList","ContactDetails","_","ContactView","constructor","props","_handleContactSelection","item","setState","selectedContact","_handleGoBack","_handleFavoriteClick","contact","type","fromList","cloneDeep","state","toList","idx","findIndex","id","extracted","splice","isFavorite","favorite","noFavorite","bind","_handlegoBack","componentDidMount","getContacts","then","res","favoriteList","data","filter","noFavoriteList","catch","error","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ContactServices from '../services/ContactServices';\nimport ContactList from '../components/ContactList';\nimport ContactDetails from '../components/ContactDetails';\nimport _ from 'lodash';\n\nexport default class ContactView extends Component {\n    constructor(props) {\n        super(props);\n\n        this._handleContactSelection = this._handleContactSelection.bind(this);\n        this._handlegoBack = this._handleGoBack.bind(this);\n\n        this.state = {\n            favorite: [],\n            noFavorite: [],\n            selectedContact: false\n        }\n    }\n\n    componentDidMount() {\n        ContactServices.getContacts()\n        .then(res => {\n            let favoriteList = res.data.filter(contact => contact.isFavorite)\n            let noFavoriteList = res.data.filter(contact => !(contact.isFavorite))\n            this.setState({\n                favorite: favoriteList,\n                noFavorite: noFavoriteList\n            })\n        })\n        .catch(error => {\n            console.log(error);\n        });\n    }\n\n    _handleContactSelection = (item) => {\n        this.setState({selectedContact: item});\n    }\n\n    _handleGoBack = () => {\n        this.setState({selectedContact: null});\n    }\n\n    _handleFavoriteClick = (contact, type) => {\n        let fromList = _.cloneDeep(this.state[type]);\n        let toList = _.cloneDeep(this.state['favorite' === type ? 'noFavorite' : 'favorite']);\n\n        let idx = fromList.findIndex(item => item.id === contact.id);\n        if (idx > -1) {\n            let extracted = fromList.splice(idx, 1)[0];\n            extracted.isFavorite = !extracted.isFavorite;\n            toList = [...toList, extracted];\n        }\n\n        this.setState({\n            favorite: 'favorite' === type ? fromList : toList,\n            noFavorite: 'noFavorite' === type ? fromList : toList\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                { !this.state.selectedContact &&\n                    <ContactList\n                        onFavoriteClick={this._handleFavoriteClick}\n                        onContactSelect={this._handleContactSelection}\n                        favorites={this.state.favorite}\n                        others={this.state.noFavorite}\n                    />\n                }\n\n                {\n                    this.state.selectedContact &&\n                    <ContactDetails goBack={this._handleGoBack } selectedContact={this.state.selectedContact} />\n                }\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}